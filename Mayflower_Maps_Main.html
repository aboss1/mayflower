<!DOCTYPE html>
<html>
<head>
	<title>Maps</title>
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBvheZVH3VjR7yl-IdcMIz-ohTfXKSwwZc&callback=initMap"
        async defer></script> 
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
	<script src="http://code.jquery.com/jquery-1.12.0.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
	<style>
	#map {
		width: 300px;
		height: 300px;
	}
	</style>
</head>
<script type = "text/javascript">
		function initMap() {
			var mapDiv = document.getElementById('map');
     		var map = new google.maps.Map(mapDiv, {
      			center: {lat: 40.786152, lng: -73.975418},
      			zoom: 15
    		});
    		var iconBase = 'https://maps.google.com/mapfiles/kml/shapes/';
    		var contentString = '<p> Alex Smith is going to live here starting July 2nd </p>';
    		var contentString1 = '<p> Bianca Boss is going to live here starting June 29th </p>';
    		var contentString2 = '<p> Tuongvan Le is going to live here starting August 7th </p>';
    		var contentString3 = '<p> You will be living here starting July 19th! Drag the pin to change your anticipated apartment location! </p>';
    		var infowindow = new google.maps.InfoWindow({
    			content: contentString
  			});
			var marker =  new google.maps.Marker({
  				position: {lat: 40.786152, lng: -73.975418},
  				map: map,
  				info: contentString
			});
		 	marker.addListener('click', function() {
				infowindow.open(map, marker);
			})
			var marker1 = new google.maps.Marker({
  				position: {lat: 40.788152, lng: -73.97545},
  				map: map,
  				info: contentString1
			});
			var marker2 = new google.maps.Marker({
  				position: {lat: 40.789152, lng: -73.97556},
  				map: map,
  				info: contentString2
			});
			var marker3 = new google.maps.Marker({
  				position: {lat: 40.78479, lng: -73.97556},
  				info: contentString3,
  				draggable:true

			});
			marker3.setIcon('http://maps.google.com/mapfiles/ms/icons/green-dot.png');
			google.maps.event.addListener(marker, 'click', function() {
				infowindow.setContent(this.info);
				infowindow.open(map, this);
			})
			google.maps.event.addListener(marker1, 'click', function() {
				infowindow.setContent(this.info);
				infowindow.open(map, this);
			})
			google.maps.event.addListener(marker2, 'click', function() {
				infowindow.setContent(this.info);
				infowindow.open(map, this);
			})
			google.maps.event.addListener(marker3, 'click', function() {
				infowindow.setContent(this.info);
				infowindow.open(map, this);
			})
			$("#button").bind("click",
				function(event, ui) {
					marker3.setMap(map);		
			})
			$("#remove").bind("click",
				function(event, ui) {
					marker3.setMap(null);		
			})

		}



</script>
<body>

<div data-role="page" id="home">

	<div data-role="header">
		<h1>Mayflower - Maps</h1>
		<div data-role="navbar">
			<ul>
				<a href="#home" class="ui-button">Home</a>
			</ul>
		</div>
	</div>

	<div data-role="content">

		<!-- <p>Page content goes here.</p> -->
		<input type="search" name="search" id="search-basic" value="Search Neighborhoods" data-mini="true" />
		<h3> Future Neighborhood: Upper West Side </h3>
		<div id = "map"></div> 
		<br />
		<div data-role="controlgroup" data-type="horizontal">
		<a data-role="button" id = "button">Add Settlement</a>
		<a data-role="button" id = "remove">Remove Settlement</a>
		</div>

	</div><!-- /content -->

	<div data-role="footer">
		<h4>Austin -> NYC Summer '16</h4>
	</div><!-- /footer -->
</div><!-- /page -->

<div data-role="page" id="contacts">
	<div data-role="header">
		<h1>Contact Page! </h1>
		<div data-role="navbar">
			<ul>
				<a href="http://google.com">Google</a>
				<a href="#contacts" class="ui-button">Contacts</a>
				<a href="#home" class="ui-button">Home</a>
			</ul>
		</div>
	</div>
	<div data-role="content">
	</div>
</div>

</body>
</html>